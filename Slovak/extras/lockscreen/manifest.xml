<?xml version="1.0" encoding="utf-8"?>
<Lockscreen version="1" frameRate="30">
    <Wallpaper/>

    <Var name="unlock_x" expression="#screen_width/2" const="true" />
    <Var name="unlock_y" expression="#screen_height-#screen_width/2" const="true" />
    <Var name="inner_r" expression="155" const="true" />

    <Var name="offset_x" expression="ifelse(le(#unlocker.move_dist,#inner_r), #unlocker.move_x, #unlocker.move_x*#inner_r/#unlocker.move_dist)"/>
    <Var name="offset_y" expression="ifelse(le(#unlocker.move_dist,#inner_r), #unlocker.move_y, #unlocker.move_y*#inner_r/#unlocker.move_dist)"/>

    <VariableBinders>
        <ContentProviderBinder uri="content://call_log/calls" columns="date,number,name,type" order="date DESC" where="type=3 AND new=1" countName="call_count">
            <Variable name="call_name1" type="string" column="name" row="0"/>
            <Variable name="call_number1" type="string" column="number" row="0"/>
            <Variable name="call_date1" type="long" column="date" row="0"/> 
            <varibale name="call_type1" type="integer" column="type" row="0"/>
        </ContentProviderBinder>

        <ContentProviderBinder name="sms_table" uri="content://sms/inbox" columns="_id,address,date,body,person" where="seen=0" order="date DESC" countName="sms_count">
            <Variable name="sms_date1" type="long" column="date" row="0"/>
            <Variable name="sms_body1" type="string" column="body" row="0"/>
            <Variable name="sms_num1" type="string" column="address" row="0"/>     

            <Variable name="sms_date2" type="long" column="date" row="1"/>
            <Variable name="sms_body2" type="string" column="body" row="1"/>
            <Variable name="sms_num2" type="string" column="address" row="1"/>     

        </ContentProviderBinder>

        <ContentProviderBinder dependency="sms_table" uri="content://com.android.contacts/data" columns="display_name" whereFormat="PHONE_NUMBERS_EQUAL(data1,%s)" whereParas="@sms_num1" countName="hasName1">
            <Variable name="sms_name1" type="string" column="display_name" row="0"/>
        </ContentProviderBinder>         
        <ContentProviderBinder dependency="sms_table" uri="content://com.android.contacts/data" columns="display_name" whereFormat="PHONE_NUMBERS_EQUAL(data1,%s)" whereParas="@sms_num2" countName="hasName2">
            <Variable name="sms_name2" type="string" column="display_name" row="0"/>
        </ContentProviderBinder>         

    </VariableBinders>

    <!-- 永久的暗边蒙板 -->
    <Image x="0" y="0" w="#screen_width" src="unlock_mask_bg_top.png"/>
    <Image x="0" y="#screen_height" w="#screen_width" alignV="bottom" src="unlock_mask_bg_bottom.png" alpha="128"/>

    <!-- preview -->
    <Var name="preview_item_height" expression="90" const="true"/>
    <Var name="preview_x" expression="15" const="true"/>
    <Var name="preview_icon_x" expression="35" const="true"/>
    <Var name="preview_info_x" expression="85" const="true"/>
    <Var name="preview_info_right_margin" expression="30" const="true"/>
    <Var name="preview_info_right" expression="#screen_width-#preview_info_right_margin" const="true"/>
    <Var name="preview_y" expression="#screen_height-#screen_width-20"/>
    <Var name="preview_call_count" expression="min(1,#call_count)"/>
    <Var name="preview_sms_count" expression="min(2,#sms_count)"/>
    <Var name="show_preview" expression="(#preview_call_count+#preview_sms_count)*#unlocker.state"/>
    <Var name="preview_sms_y" expression="#preview_y-12-#preview_sms_count*#preview_item_height)"/>
    <Var name="preview_call_y" expression="#preview_sms_y-#preview_call_count*#preview_item_height)"/>

    <!-- 音乐控制 -->
    <MusicControl x="0" y="#unlock_y-226" w="#screen_width" h="#screen_width" name="music_control" autoShow="true" visibility="false" defAlbumCover="default_album_cover.png">
        <!-- 背景 -->
        <Image x="0" y="226+#screen_width/2" alignV="bottom" src="music_bg.png"/>
        <SpectrumVisualizer x="#unlock_x" y="-71" align="center" panelSrc="sliding_panel_visualization_bg.png" dotbarSrc="sliding_panel_visualization_dot_bar.png" shadowSrc="sliding_panel_visualization_dot_bar_shadow.png"/>
        <!-- 唱片 -->
        <Image x="#screen_width/2" y="226" align="center" alignV="center" src="phonorecord.png"/>
        <Image x="#screen_width/2" y="226" align="center" alignV="center" centerX="155" centerY="155" src="phonorecord_rotation.png">
            <RotationAnimation>
                <Rotation angle="360" time="2000"/>
            </RotationAnimation>
        </Image>
        <Text name="music_display" x="#unlock_x" y="-122" w="400" marqueeSpeed="30" size="18" color="#FFFFFFFF" align="center" alpha="255*not(#show_preview)"/>
        <Image name="music_album_cover" x="#unlock_x" y="226" w="319" h="319" align="center" alignV="center">
            <Mask x="0" y="0" src="music_album_cover_mask.png"/>
        </Image>
        <Image x="#unlock_x" y="226-230" align="center" src="unlock_top_p.png" visibility="not(#unlocker.state)"/>
        <Image x="#unlock_x" y="226" align="center" alignV="center" src="music_album_cover.png" visibility="not(#unlocker.state)"/>
        <!-- 上一首 -->
        <Button name="music_prev" x="#unlock_x-226" y="116" w="#screen_width/2-110" h="220" visibility="not(#unlocker.state)">
            <Normal>
                <Image x="#unlock_x-192" y="226" align="center" alignV="center" src="music_pre_n.png"/>
            </Normal>
            <Pressed>
                <Image x="#unlock_x-230" y="226" alignV="center" src="unlock_l_p.png"/>
                <Image x="#unlock_x-192" y="226" align="center" alignV="center" src="music_pre_n.png"/>
            </Pressed>
        </Button>
        <!-- 下一首 -->
        <Button name="music_next" x="#unlock_x+226-129" y="116" w="#screen_width/2-110" h="220" visibility="not(#unlocker.state)">
            <Normal>
                <Image x="#unlock_x+192" y="226" align="center" alignV="center" src="music_next_n.png"/>
            </Normal>
            <Pressed>
                <Image x="#unlock_x+230-135" y="226" alignV="center" src="unlock_r_p.png"/>
                <Image x="#unlock_x+192" y="226" align="center" alignV="center" src="music_next_n.png"/>
            </Pressed>
        </Button>
        <!-- 播放 -->
        <Button name="music_play" x="#unlock_x-110" y="452-129" w="#screen_width" h="#screen_width/2-110">
            <Normal>
                <Image x="#unlock_x" y="226+192" align="center" alignV="center" src="music_play_n.png" alpha="255*not(#unlocker.state)"/>
            </Normal>
            <Pressed>
                <Image x="#unlock_x" y="230+226-135" align="center" src="unlock_btm_p.png"/>
                <Image x="#unlock_x" y="226+192" align="center" alignV="center" src="music_play_n.png" alpha="255*not(#unlocker.state)"/>
            </Pressed>
        </Button>
        <!-- 暂停 -->
        <Button name="music_pause" x="#unlock_x-110" y="452-129" w="#screen_width" h="#screen_width/2-110">
            <Normal>
                <Image x="#unlock_x" y="226+192" align="center" alignV="center" src="music_pause_n.png" alpha="255*not(#unlocker.state)"/>
            </Normal>
            <Pressed>
                <Image x="#unlock_x" y="230+226-135" align="center" src="unlock_btm_p.png"/>
                <Image x="#unlock_x" y="226+192" align="center" alignV="center" src="music_pause_n.png" alpha="255*not(#unlocker.state)"/>
            </Pressed>
        </Button>
    </MusicControl>

    <Unlocker name="unlocker" bounceInitSpeed="10" bounceAcceleration="1500">
        <StartPoint x="#unlock_x-68" y="#unlock_y-68" w="136" h="136">
        </StartPoint>

        <!-- 此endpoint只为显示圆盘动画，不会有PressedState和ReachedState切换 -->
        <EndPoint x="0" y="0" w="0" h="0">
            <PressedState>
                <Image x="0" y="0" w="#screen_width" h="#screen_height" src="unlock_mask_bg_pressed.png">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
                <Image x="#unlock_x" y="#unlock_y" align="center" alignV="center" src="unlock_bg.png">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>

                <!-- 未接电话 -->
                <Image x="#screen_width/2-55" y="210" src="icon_phone.png" align="center" alignV="center" visibility="#call_missed_count">
                    <AlphaAnimation>
                        <Alpha a="255" time="0"/>
                        <Alpha a="255*not(#show_preview)" time="500"/>
                        <Alpha a="255*not(#show_preview)" time="1000000000000000"/>
                    </AlphaAnimation>
	    	        </Image>
    		        <Text x="#screen_width/2-35" y="198" color="#FFFFFFFF" size="18" format="%d missed calls" paras="#call_missed_count" visibility="#call_missed_count">
                    <AlphaAnimation>
                        <Alpha a="255" time="0"/>
                        <Alpha a="255*not(#show_preview)" time="500"/>
                        <Alpha a="255*not(#show_preview)" time="1000000000000000"/>
                    </AlphaAnimation>
    		        </Text>

                <!-- 未读短信, 如果没有未接电话，位置往上移 -->
                <Image x="#screen_width/2-55" y="210+30*min(#call_missed_count,1)" src="icon_sms.png" align="center" alignV="center" visibility="#sms_count">
                    <AlphaAnimation>
                        <Alpha a="255" time="0"/>
                        <Alpha a="255*not(#show_preview)" time="500"/>
                        <Alpha a="255*not(#show_preview)" time="1000000000000000"/>
                    </AlphaAnimation>
	    	        </Image>
                <Text x="#screen_width/2-35" y="198+30*min(#call_missed_count,1)" color="#FFFFFFFF" size="18" format="%d messages" paras="#sms_count" visibility="#sms_count">
                    <AlphaAnimation>
                        <Alpha a="255" time="0"/>
                        <Alpha a="255*not(#show_preview)" time="500"/>
                        <Alpha a="255*not(#show_preview)" time="1000000000000000"/>
                    </AlphaAnimation>
	    	        </Text>

                <!-- 时间、日期 -->
                <Time x="#screen_width/2" y="150" align="center" alignV="bottom" src="lock_screen_bar_time.png">
                    <AlphaAnimation>
                        <Alpha a="255" time="0"/>
                        <Alpha a="255*not(#show_preview)" time="500"/>
                        <Alpha a="255*not(#show_preview)" time="1000000000000000"/>
                    </AlphaAnimation>
                </Time>
                <DateTime x="#screen_width/2" y="160" align="center" color="#FFFFFFFF" size="18" format="EEEE d MMMM">
                    <AlphaAnimation>
                        <Alpha a="255" time="0"/>
                        <Alpha a="255*not(#show_preview)" time="500"/>
                        <Alpha a="255*not(#show_preview)" time="1000000000000000"/>
                    </AlphaAnimation>
                </DateTime>

		          	<Image x="#preview_x" y="#preview_y" w="#screen_width-#preview_x*2" h="(#preview_call_count+#preview_sms_count)*90+12" alignV="bottom" src="preview_bg.9.png" visibility="#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
                
		          	<!-- call preview -->
		          	<Image x="#preview_icon_x" y="#preview_call_y+32" src="preview_call_icon.png" visibility="#preview_call_count*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
		          	<Text x="#preview_info_x" y="#preview_call_y+16" color="#FFFFFFFF" size="24" textExp="ifelse(isnull(@call_name1),@call_number1, @call_name1)" visibility="#preview_call_count*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<Text x="#preview_info_x" y="#preview_call_y+54" color="#FFFFFFFF" size="16" text="@call_number1" visibility="not(isnull(@call_name1))*#preview_call_count*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<DateTime x="#preview_info_right" y="#preview_call_y+26" color="#FFFFFFFF" size="16" align="right" value="#call_date1" format="kk:mm" visibility="#preview_call_count*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </DateTime>
		          	<Image x="#preview_x" y="#preview_call_y+#preview_item_height" alignV="center" src="preview_seperator.png" visibility="#preview_call_count*#show_preview*#preview_sms_count">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
	
		          	<!-- sms preview -->
		          	<Image x="#preview_icon_x" y="#preview_sms_y+32" src="preview_sms_icon.png" visibility="#preview_sms_count*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
		          	<Text x="#preview_info_x" y="#preview_sms_y+16" color="#FFFFFFFF" size="24" textExp="ifelse(isnull(@sms_name1), @sms_num1, @sms_name1)" visibility="#preview_sms_count*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<Text x="#preview_info_x" y="#preview_sms_y+54" w="#screen_width-#preview_info_x-#preview_info_right_margin" marqueeSpeed="40" color="#FFFFFFFF" size="16" text="@sms_body1" visibility="#preview_sms_count*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<DateTime x="#preview_info_right" y="#preview_sms_y+26" color="#FFFFFFFF" size="16" align="right" value="#sms_date1" format="kk:mm" visibility="#preview_sms_count*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </DateTime>
		          	<Image x="#preview_x" y="#preview_sms_y+#preview_item_height" alignV="center" src="preview_seperator.png" visibility="#show_preview*ge(#preview_sms_count,2)">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
	
		          	<Image x="#preview_icon_x" y="#preview_sms_y+#preview_item_height+32" src="preview_sms_icon.png" visibility="ge(#preview_sms_count,2)*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
		          	<Text x="#preview_info_x" y="#preview_sms_y+#preview_item_height+16" color="#FFFFFFFF" size="24" textExp="ifelse(isnull(@sms_name2), @sms_num2, @sms_name2)" visibility="ge(#preview_sms_count,2)*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<Text x="#preview_info_x" y="#preview_sms_y+#preview_item_height+54" w="#screen_width-#preview_info_x-#preview_info_right_margin" marqueeSpeed="40" color="#FFFFFFFF" size="16" text="@sms_body2" visibility="ge(#preview_sms_count,2)*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<DateTime x="#preview_info_right" y="#preview_sms_y+#preview_item_height+26" color="#FFFFFFFF" size="16" align="right" value="#sms_date2" format="kk:mm" visibility="ge(#preview_sms_count,2)*#show_preview">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </DateTime>
            </PressedState>

            <NormalState>
                <Image x="0" y="0" w="#screen_width" h="#screen_height" src="unlock_mask_bg_pressed.png">
                    <AlphaAnimation>
                        <Alpha a="128" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
                <Image x="#unlock_x" y="#unlock_y" align="center" alignV="center" src="unlock_bg.png">
                    <SizeAnimation>
                        <Size w="459" h="459" time="0"/>
                        <Size w="500" h="500" time="500"/>
                        <Size w="500" h="500" time="1000000000000000"/>
                    </SizeAnimation>
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
                
                <!-- 未接电话 -->
                <Image x="#screen_width/2-55" y="210" src="icon_phone.png" align="center" alignV="center" visibility="#call_missed_count">
                    <AlphaAnimation>
                        <Alpha a="192*not(#preview_call_count+#sms_count)" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
                <Text x="#screen_width/2-35" y="198" color="#FFFFFFFF" size="18" format="%d missed calls" paras="#call_missed_count" visibility="#call_missed_count">
                    <AlphaAnimation>
                        <Alpha a="192*not(#preview_call_count+#sms_count)" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>

                <!-- 未读短信, 如果没有未接电话，位置往上移 -->
                <Image x="#screen_width/2-55" y="210+30*min(#call_missed_count,1)" src="icon_sms.png" align="center" alignV="center" visibility="#sms_count">
                    <AlphaAnimation>
                        <Alpha a="192*not(#preview_call_count+#sms_count)" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
                <Text x="#screen_width/2-35" y="198+30*min(#call_missed_count,1)" color="#FFFFFFFF" size="18" format="%d messages" paras="#sms_count" visibility="#sms_count">
                    <AlphaAnimation>
                        <Alpha a="192*not(#preview_call_count+#sms_count)" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>

                <!-- 时间、日期 -->
                <Time x="#screen_width/2" y="150" align="center" alignV="bottom" src="lock_screen_bar_time.png">
                    <AlphaAnimation>
                        <Alpha a="192*not(#preview_call_count+#sms_count)" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Time>
                <DateTime x="#screen_width/2" y="160" align="center" color="#FFFFFFFF" size="18" format="EEEE d MMMM">
                    <AlphaAnimation>
                        <Alpha a="192*not(#preview_call_count+#sms_count)" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </DateTime>

		          	<Image x="#preview_x" y="#preview_y" w="#screen_width-#preview_x*2" h="(#preview_call_count+#preview_sms_count)*90+12" alignV="bottom" src="preview_bg.9.png" visibility="#preview_call_count+#preview_sms_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
		
		          	<!-- call preview -->
		          	<Image x="#preview_icon_x" y="#preview_call_y+32" src="preview_call_icon.png" visibility="#preview_call_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
		          	<Text x="#preview_info_x" y="#preview_call_y+16" color="#FFFFFFFF" size="24" textExp="ifelse(isnull(@call_name1),@call_number1, @call_name1)" visibility="#preview_call_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<Text x="#preview_info_x" y="#preview_call_y+54" color="#FFFFFFFF" size="16" text="@call_number1" visibility="not(isnull(@call_name1))*#preview_call_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<DateTime x="#preview_info_right" y="#preview_call_y+26" color="#FFFFFFFF" size="16" align="right" value="#call_date1" format="kk:mm" visibility="#preview_call_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </DateTime>
		          	<Image x="#preview_x" y="#preview_call_y+#preview_item_height" alignV="center" src="preview_seperator.png" visibility="#preview_call_count*#preview_sms_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
	
		          	<!-- sms preview -->
		          	<Image x="#preview_icon_x" y="#preview_sms_y+32" src="preview_sms_icon.png" visibility="#preview_sms_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
		          	<Text x="#preview_info_x" y="#preview_sms_y+16" color="#FFFFFFFF" size="24" textExp="ifelse(isnull(@sms_name1), @sms_num1, @sms_name1)" visibility="#preview_sms_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<Text x="#preview_info_x" y="#preview_sms_y+54" w="#screen_width-#preview_info_x-#preview_info_right_margin" marqueeSpeed="40" color="#FFFFFFFF" size="16" text="@sms_body1" visibility="#preview_sms_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<DateTime x="#preview_info_right" y="#preview_sms_y+26" color="#FFFFFFFF" size="16" align="right" value="#sms_date1" format="kk:mm" visibility="#preview_sms_count">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </DateTime>
		          	<Image x="#preview_x" y="#preview_sms_y+#preview_item_height" alignV="center" src="preview_seperator.png" visibility="ge(#preview_sms_count,2)">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
	
		          	<Image x="#preview_icon_x" y="#preview_sms_y+#preview_item_height+32" src="preview_sms_icon.png" visibility="ge(#preview_sms_count,2)">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
		          	<Text x="#preview_info_x" y="#preview_sms_y+#preview_item_height+16" color="#FFFFFFFF" size="24" textExp="ifelse(isnull(@sms_name2), @sms_num2, @sms_name2)" visibility="ge(#preview_sms_count,2)">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<Text x="#preview_info_x" y="#preview_sms_y+#preview_item_height+54" w="#screen_width-#preview_info_x-#preview_info_right_margin" marqueeSpeed="40" color="#FFFFFFFF" size="16" text="@sms_body2" visibility="ge(#preview_sms_count,2)">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Text>
		          	<DateTime x="#preview_info_right" y="#preview_sms_y+#preview_item_height+26" color="#FFFFFFFF" size="16" align="right" value="#sms_date2" format="kk:mm" visibility="ge(#preview_sms_count,2)">
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </DateTime>
            </NormalState>
        </EndPoint>

        <!-- 相机 -->
        <EndPoint x="-68" y="-68" w="#screen_width" h="#screen_height-#screen_width/2-110">
            <Intent action="android.media.action.STILL_IMAGE_CAMERA" category="android.intent.category.DEFAULT"/>
            <PressedState>
                <Image x="#unlock_x" y="#unlock_y-192" align="center" alignV="center" src="unlock_camera_n.png">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
            </PressedState>
            <NormalState>
                <Image x="#unlock_x" y="#unlock_y-192" align="center" alignV="center" src="unlock_camera_n.png">
                    <PositionAnimation>
                        <Position x="0" y="0" time="0"/>
                        <Position x="0" y="-50" time="500"/>
                        <Position x="0" y="-50" time="1000000000000000"/>
                    </PositionAnimation>
                    <SizeAnimation>
                        <Size w="33" h="30" time="0"/>
                        <Size w="36" h="33" time="500"/>
                        <Size w="36" h="33" time="1000000000000000"/>
                    </SizeAnimation>
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
            </NormalState>
            <ReachedState>
                <Image x="#unlock_x" y="#unlock_y-192" align="center" alignV="center" src="unlock_camera_n.png"/>
                <Image x="#unlock_x" y="#unlock_y-230" align="center" src="unlock_top_p.png"/>
            </ReachedState>
        </EndPoint>

        <!-- 电话 -->
        <EndPoint x="#unlock_x-110-500-68" y="#unlock_y-110-68" w="500" h="220">
            <Intent action="android.intent.action.VIEW" type="vnd.android.cursor.dir/calls"/>
            <PressedState>
                <Image x="#unlock_x-192" y="#unlock_y" align="center" alignV="center" src="unlock_phone_n.png">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
            </PressedState>
            <NormalState>
                <Image x="#unlock_x-192" y="#unlock_y" align="center" alignV="center" src="unlock_phone_n.png">
                    <PositionAnimation>
                        <Position x="0" y="0" time="0"/>
                        <Position x="-50" y="0" time="500"/>
                        <Position x="-50" y="0" time="1000000000000000"/>
                    </PositionAnimation>
                    <SizeAnimation>
                        <Size w="32" h="33" time="0"/>
                        <Size w="35" h="36" time="500"/>
                        <Size w="35" h="36" time="1000000000000000"/>
                    </SizeAnimation>
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
            </NormalState>
            <ReachedState>
                <Image x="#unlock_x-192" y="#unlock_y" align="center" alignV="center" src="unlock_phone_n.png"/>
                <Image x="#unlock_x-230" y="#unlock_y" alignV="center" src="unlock_l_p.png"/>
            </ReachedState>
        </EndPoint>

        <!-- 桌面 -->
        <EndPoint x="-68" y="#unlock_y+110-68" w="#screen_width" h="500">
            <PressedState>
                <Image x="#unlock_x" y="#unlock_y+192" align="center" alignV="center" src="unlock_home_n.png">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
            </PressedState>
            <NormalState>
                <Image x="#unlock_x" y="#unlock_y+192" align="center" alignV="center" src="unlock_home_n.png">
                    <PositionAnimation>
                        <Position x="0" y="0" time="0"/>
                        <Position x="0" y="50" time="500"/>
                        <Position x="0" y="50" time="1000000000000000"/>
                    </PositionAnimation>
                    <SizeAnimation>
                        <Size w="34" h="39" time="0"/>
                        <Size w="37" h="43" time="500"/>
                        <Size w="37" h="43" time="1000000000000000"/>
                    </SizeAnimation>
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
            </NormalState>
            <ReachedState>
                <Image x="#unlock_x" y="#unlock_y+192" align="center" alignV="center" src="unlock_home_n.png"/>
                <Image x="#unlock_x" y="#unlock_y+230-135" align="center" src="unlock_btm_p.png"/>
            </ReachedState>
        </EndPoint>

        <!-- 短信 -->
        <EndPoint x="#unlock_x+110-68" y="#unlock_y-110-68" w="500" h="220">
           <Intent action="android.intent.action.MAIN" type="vnd.android-dir/mms-sms" category="android.intent.category.DEFAULT"/>
            <PressedState>
                <Image x="#unlock_x+192" y="#unlock_y" align="center" alignV="center" src="unlock_sms_n.png">
                    <AlphaAnimation>
                        <Alpha a="0" time="0"/>
                        <Alpha a="255" time="500"/>
                        <Alpha a="255" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
            </PressedState>
            <NormalState>
                <Image x="#unlock_x+192" y="#unlock_y" align="center" alignV="center" src="unlock_sms_n.png">
                    <PositionAnimation>
                        <Position x="0" y="0" time="0"/>
                        <Position x="50" y="0" time="500"/>
                        <Position x="50" y="0" time="1000000000000000"/>
                    </PositionAnimation>
                    <SizeAnimation>
                        <Size w="33" h="32" time="0"/>
                        <Size w="36" h="35" time="500"/>
                        <Size w="36" h="35" time="1000000000000000"/>
                    </SizeAnimation>
                    <AlphaAnimation>
                        <Alpha a="32" time="0"/>
                        <Alpha a="0" time="500"/>
                        <Alpha a="0" time="1000000000000000"/>
                    </AlphaAnimation>
                </Image>
            </NormalState>
            <ReachedState>
                <Image x="#unlock_x+192" y="#unlock_y" align="center" alignV="center" src="unlock_sms_n.png"/>
                <Image x="#unlock_x+230-135" y="#unlock_y" alignV="center" src="unlock_r_p.png"/>
            </ReachedState>
        </EndPoint>

        <!-- 解锁引导 -->
        <EndPoint x="0" y="0" w="0" h="0">
            <PressedState>
                <Image x="#unlock_x-11" y="#unlock_y-150" src="lock_screen_indicator_anim_stroke.png" visibility="not(#music_control.visibility)+#unlocker.state"/>
                <Image x="#unlock_x" y="#unlock_y+100-32" align="center" alignV="center" src="lock_screen_indicator_anim.png" visibility="not(#music_control.visibility)+#unlocker.state">
                    <Mask x="#unlock_x-11" y="#unlock_y-150" src="lock_screen_indicator_anim_mask.png" align="absolute"/>
                    <PositionAnimation>
                        <Position x="0" y="0" time="0"/>
                        <Position x="0" y="126" time="1500"/>
                    </PositionAnimation>
                </Image>
                <Image x="#unlock_x" y="#unlock_y+192" align="center" alignV="center" src="unlock_home_n_stroke.png" visibility="not(#music_control.visibility)+#unlocker.state"/>
                <Image x="#unlock_x" y="#unlock_y+192" align="center" alignV="center" src="unlock_home_n.png" visibility="not(#music_control.visibility)+#unlocker.state">
                   <AlphaAnimation>
                        <Alpha a="128" time="0"/>
                        <Alpha a="255" time="375"/>
                        <Alpha a="128" time="750"/>
                        <Alpha a="128" time="1125"/>
                        <Alpha a="128" time="1500"/>
                    </AlphaAnimation>
                </Image>
            </PressedState>
            <NormalState>
                <Image x="#unlock_x-11" y="#unlock_y-150" src="lock_screen_indicator_anim_stroke.png" visibility="not(#music_control.visibility)+#unlocker.state"/>
                <Image x="#unlock_x" y="#unlock_y+100-32" align="center" alignV="center" src="lock_screen_indicator_anim.png" visibility="not(#music_control.visibility)+#unlocker.state">
                    <Mask x="#unlock_x-11" y="#unlock_y-150" src="lock_screen_indicator_anim_mask.png" align="absolute"/>
                    <PositionAnimation>
                        <Position x="0" y="0" time="0"/>
                        <Position x="0" y="126" time="1500"/>
                    </PositionAnimation>
                </Image>
                <Image x="#unlock_x" y="#unlock_y+192" align="center" alignV="center" src="unlock_home_n_stroke.png" visibility="not(#music_control.visibility)+#unlocker.state"/>
                <Image x="#unlock_x" y="#unlock_y+192" align="center" alignV="center" src="unlock_home_n.png" visibility="not(#music_control.visibility)+#unlocker.state">
                   <AlphaAnimation>
                        <Alpha a="128" time="0"/>
                        <Alpha a="255" time="375"/>
                        <Alpha a="128" time="750"/>
                        <Alpha a="128" time="1125"/>
                        <Alpha a="128" time="1500"/>
                    </AlphaAnimation>
                </Image>
    	      </NormalState>
        </EndPoint>

        <EndPoint x="0" y="0" w="0" h="0">
            <PressedState>
                <Image x="#unlock_x+#offset_x" y="#unlock_y+#offset_y" align="center" alignV="center" src="lock_button_1.png" visibility="#music_control.visibility">
									<AlphaAnimation>
										<Alpha a="0" time="0"/>
										<Alpha a="255" time="500"/>
										<Alpha a="255" time="10000000000000000"/>
									</AlphaAnimation>
                </Image>
                <Image x="#unlock_x+#offset_x" y="#unlock_y+#offset_y" align="center" alignV="center" src="lock_button_1.png" visibility="not(#music_control.visibility)"/>
            </PressedState>
            <NormalState>
                <Image x="#unlock_x+#offset_x" y="#unlock_y+#offset_y" align="center" alignV="center" src="lock_button_music.png" visibility="#music_control.visibility">
                	<AlphaAnimation>
										<Alpha a="0" time="0"/>
										<Alpha a="255" time="500"/>
										<Alpha a="0" time="1000"/>
										<Alpha a="0" time="3000"/>
									</AlphaAnimation>
                </Image>
                <Image x="#unlock_x+#offset_x" y="#unlock_y+#offset_y" align="center" alignV="center" src="lock_button_1.png" visibility="#music_control.visibility">
									<AlphaAnimation>
										<Alpha a="255" time="0"/>
										<Alpha a="0" time="500"/>
										<Alpha a="0" time="10000000000000000"/>
									</AlphaAnimation>
                </Image>
                <Image x="#unlock_x+#offset_x" y="#unlock_y+#offset_y" align="center" alignV="center" src="lock_button_0.png" visibility="not(#music_control.visibility)"/>
    	      </NormalState>
        </EndPoint>
    </Unlocker>

    <!-- 缺电状态 low battery -->
    <Text x="#screen_width/2" y="#unlock_y-100" align="center" visibility="eq(2,#battery_state)*eq(#unlocker.state,0)" color="#AAFF0000" size="18" format="Low Battery (%d%%)" paras="#battery_level"/>
    <Image x="#unlock_x" y="#unlock_y" align="center" alignV="center" src="lowbattery.png" alpha="255-#unlocker.state*255" visibility="eq(2,#battery_state)">
         <SizeAnimation>
              <Size w="85" h="85" time="0"/>
              <Size w="165" h="165" time="1500"/>
         </SizeAnimation>
         <AlphaAnimation>
              <Alpha a="0" time="0"/>
              <Alpha a="128" time="715"/>
              <Alpha a="255" time="716"/>
              <Alpha a="255" time="784"/>
              <Alpha a="128" time="785"/>
              <Alpha a="0" time="1500"/>
         </AlphaAnimation>
    </Image>
    <Image x="#unlock_x" y="#unlock_y" align="center" alignV="center" src="lowbattery.png" alpha="255-#unlocker.state*255" visibility="eq(2,#battery_state)">
         <SizeAnimation>
              <Size w="125" h="125" time="0"/>
              <Size w="125" h="125" time="716"/>
              <Size w="200" h="200" time="1000"/>
              <Size w="200" h="200" time="1500"/>
         </SizeAnimation>
         <AlphaAnimation>
              <Alpha a="0" time="0"/>
              <Alpha a="0" time="715"/>
              <Alpha a="64" time="716"/>
              <Alpha a="0" time="1000"/>
              <Alpha a="0" time="1500"/>
         </AlphaAnimation>
    </Image>

    <!-- 充电动画, alpha值表示未触摸时显示  charging -->
    <Image x="#unlock_x" y="#unlock_y" src="charging_progress_light_small.png" align="center" alignV="center" category="Charging" alpha="255*eq(#unlocker.state,0)*not(#music_control.visibility)">
         <SizeAnimation>
              <Size w="200" h="200" time="0"/>
              <Size w="160" h="160" time="179"/>
              <Size w="140" h="140" time="358"/>
              <Size w="120" h="120" time="716"/>
              <Size w="120" h="120" time="1500"/>
         </SizeAnimation>
         <AlphaAnimation>
              <Alpha a="0" time="0"/>
              <Alpha a="32" time="358"/>
              <Alpha a="64" time="536"/>
              <Alpha a="128" time="715"/>
              <Alpha a="128" time="716"/>
              <Alpha a="128" time="784"/>
              <Alpha a="0" time="1000"/>
              <Alpha a="0" time="1500"/>
         </AlphaAnimation>
    </Image>
    <Image x="#unlock_x" y="#unlock_y" src="charging_progress_light_small.png" align="center" alignV="center" category="Charging" alpha="255*eq(#unlocker.state,0)*not(#music_control.visibility)">
         <SizeAnimation>
              <Size w="200" h="200" time="0"/>
              <Size w="200" h="200" time="500"/>
              <Size w="160" h="160" time="604"/>
              <Size w="140" h="140" time="708"/>
              <Size w="120" h="120" time="915"/>
              <Size w="85" h="85" time="1500"/>
         </SizeAnimation>
         <AlphaAnimation>
              <Alpha a="0" time="0"/>
              <Alpha a="0" time="500"/>
              <Alpha a="32" time="708"/>
              <Alpha a="64" time="811"/>
              <Alpha a="128" time="915"/>
              <Alpha a="255" time="916"/>
              <Alpha a="255" time="984"/>
              <Alpha a="0" time="1500"/>
         </AlphaAnimation>
    </Image>

    <!-- 充电进度 charging -->
    <Text x="#screen_width/2" y="#unlock_y-100" align="center" visibility="eq(1,#battery_state)*eq(#unlocker.state,0)*not(#music_control.visibility)" color="#AAFFFFFF" size="18" format="Charging (%d%%)" paras="#battery_level"/>
    <Image x="#screen_width/2" y="#unlock_y" align="right" alignV="center" src="charging_progress_light_small_l.png" visibility="(eq(1,#battery_state)+eq(3,#battery_state))*eq(#unlocker.state,0)*not(#music_control.visibility)" alpha="128">
        <Mask x="ifelse(ge(#battery_level,50),10,0)" y="0" src="charging_progress_light_small_lmask.png" centerX="60" centerY="60" angle="-min(#battery_level,50)/50*180"/>
    </Image>
    <Image x="#screen_width/2" y="#unlock_y" alignV="center" src="charging_progress_light_small_r.png" visibility="(eq(1,#battery_state)+eq(3,#battery_state))*eq(#unlocker.state,0)*not(#music_control.visibility)" alpha="128">
        <Mask x="-5+ifelse(ge(#battery_level,100),-10,0)" y="0" src="charging_progress_light_small_rmask.png" centerX="5" centerY="60" angle="-max(#battery_level-50,0)/50*180"/>
    </Image>
    
    <!-- 已充满 battery full -->
    <Text x="#screen_width/2" y="#unlock_y-100" align="center" visibility="eq(3,#battery_state)*eq(#unlocker.state,0)*not(#music_control.visibility)" color="#AAFFFFFF" size="18" text="Charged!"/>

    <!-- 双击进入音乐控制 -->
	  <Button x="#unlock_x-68" y="#unlock_y-68" w="136" h="136">
	    	<Triggers>
	      		<Trigger action="double" target="music_control" property="visibility" value="toggle"/>
	    	</Triggers>
	  </Button>

</Lockscreen>
